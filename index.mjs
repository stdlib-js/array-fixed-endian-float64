// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import{factory as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-lowercase@v0.4.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-prototype-of@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-buffer@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dataview@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function y(t){var e,r;for(e=[];!(r=t.next()).done;)e.push(r.value);return e}function b(t,e,r){var n,s;for(n=e.length,s=0;s<n;s++)t.setFloat64(8*s,e[s],r);return t}var j=8,E=f(),c=o(["little-endian","big-endian"]);function T(t){return i(t)?l(t):null}function _(t){return"little-endian"===t}function F(t){return t===L}function x(t){return"object"==typeof t&&null!==t&&("Float64ArrayFE"===t.constructor.name||u(t,L.prototype))&&t.BYTES_PER_ELEMENT===j}function L(){var i,o,l,f,u,d,w,g;if(l=arguments.length,!(this instanceof L))return l<2?new L(arguments[0]):2===l?new L(arguments[0],arguments[1]):3===l?new L(arguments[0],arguments[1],arguments[2]):new L(arguments[0],arguments[1],arguments[2],arguments[3]);if(null===(o=T(arguments[0]))||!c(o))throw new TypeError(v("invalid argument. First argument must be a supported byte order. Value: `%s`.",arguments[0]));if(f=_(o),0===(l-=1))u=new m(new p(0));else if(1===l)if(t(w=arguments[l]))u=new m(new p(w*j));else if(e(w))u=b(new m(new p(w.length*j)),w,f);else if(r(w))u=new m(w);else{if(!n(w))throw new TypeError(v("null2A",w));if(!1===E)throw new TypeError(v("null29",w));if(!s(w[h]))throw new TypeError(v("null2A",w));if(u=w[h](),!s(u.next))throw new TypeError(v("null2A",w));g=y(u),u=b(new m(new p(g.length*j)),g,f)}else{if(!r(u=arguments[1]))throw new TypeError(v("invalid argument. Must provide an ArrayBuffer. Value: `%s`.",u));if(!t(i=arguments[2]))throw new TypeError(v("null2C",i));if(2===l)u=new m(u,i);else{if(!t(d=arguments[3]))throw new TypeError(v("null2F",d));if((d*=j)>u.byteLength-i)throw new RangeError(v("null2G",d));u=new m(u,i,d)}}return a(this,"_buffer",u),a(this,"_length",u.byteLength/j),a(this,"_isLE",f),this}a(L,"BYTES_PER_ELEMENT",j),a(L,"name","Float64ArrayFE"),a(L,"from",(function(t,r){var i,o,l,f,a,u,d,p,m,b,x;if(!s(this))throw new TypeError(v("null01"));if(!F(this))throw new TypeError("invalid invocation. `this` is not a Float64ArrayFE.");if(null===(o=T(t))||!c(o))throw new TypeError(v("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));if(a=_(o),(l=arguments.length)>2){if(!s(f=arguments[2]))throw new TypeError(v("null3N",f));l>3&&(i=arguments[3])}if(e(r)){if(f){for(b=r.length,m=r.get&&r.set?g("default"):w("default"),d=(u=new this(o,b))._buffer,x=0;x<b;x++)d.setFloat64(x*j,f.call(i,m(r,x),x),a);return u}return new this(o,r)}if(n(r)&&E&&s(r[h])){if(d=r[h](),!s(d.next))throw new TypeError(v("nullAt",r));for(p=f?function(t,e,r){var n,s,i;for(n=[],i=-1;!(s=t.next()).done;)i+=1,n.push(e.call(r,s.value,i));return n}(d,f,i):y(d),d=(u=new this(o,b=p.length))._buffer,x=0;x<b;x++)d.setFloat64(x*j,p[x],a);return u}throw new TypeError(v("nullAt",r))})),a(L,"of",(function(t){var e,r,n;if(!s(this))throw new TypeError(v("null01"));if(!F(this))throw new TypeError("invalid invocation. `this` is not a Float64ArrayFE.");if(null===(e=T(t))||!c(e))throw new TypeError(v("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));for(r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);return new this(e,r)})),d(L.prototype,"buffer",(function(){return this._buffer.buffer})),d(L.prototype,"byteLength",(function(){return this._buffer.byteLength})),d(L.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),a(L.prototype,"BYTES_PER_ELEMENT",L.BYTES_PER_ELEMENT),a(L.prototype,"get",(function(e){if(!x(this))throw new TypeError("invalid invocation. `this` is not a Float64ArrayFE.");if(!t(e))throw new TypeError(v("null2K",e));if(!(e>=this._length))return this._buffer.getFloat64(e*j,this._isLE)})),d(L.prototype,"length",(function(){return this._length})),a(L.prototype,"set",(function(r){var n,s,i,o,l,f,h,a;if(!x(this))throw new TypeError("invalid invocation. `this` is not a Float64ArrayFE.");if(i=this._buffer,arguments.length>1){if(!t(s=arguments[1]))throw new TypeError(v("null2L",s))}else s=0;if(e(r)){if(s+(f=r.length)>this._length)throw new RangeError(v("null03"));if(l=(n=r).get&&n.set?g("default"):w("default"),a=i.byteOffset+s*j,n.buffer===i.buffer&&n.byteOffset<a&&n.byteOffset+n.byteLength>a){for(o=[],h=0;h<r.length;h++)o.push(l(r,h));n=o,l=w("default")}for(h=0;h<f;s++,h++)i.setFloat64(s*j,l(n,h),this._isLE)}else{if(s>=this._length)throw new RangeError(v("null2M",s));i.setFloat64(s*j,r,this._isLE)}})),a(L.prototype,"toString",(function(){var t,e,r;if(!x(this))throw new TypeError("invalid invocation. `this` is not a Float64ArrayFE.");for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(e.getFloat64(r*j,this._isLE));return t.join(",")}));export{L as default};
//# sourceMappingURL=index.mjs.map
